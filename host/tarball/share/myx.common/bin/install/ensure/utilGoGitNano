#!/bin/sh

##############################################################################
#
# this script overrides the default implementation in order to try to install
# all packages required using single 'pkg' utility call (batch) 
#
##############################################################################

set -e

type UserRequireRoot >/dev/null 2>&1 || \
	. "/usr/local/share/myx.common/bin/user/requireRoot"

UserRequireRoot 

LIST=""

for PKG in go git bash nano $@ ; do
	[ ! -z "`which $PKG`" ] && echo "ensure: $PKG already present, skip" >&2 || LIST="$LIST $PKG"
done

[ -z "$LIST" ] && echo "all packages installed." >&2 || pkg install -y $LIST
