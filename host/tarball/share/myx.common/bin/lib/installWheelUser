#!/usr/bin/env bash

set -e

. /usr/local/share/myx.common/include/subr-universal.sh

InstallWheelUser(){
	UserRequireRoot "InstallWheelUser"

	local NAME="$1" TITLE="$2"

	[ -z "$NAME" ] && echo "InstallWheelUser: username is required!" && exit 1
	[ -z "$TITLE" ] && echo "InstallWheelUser: usertitle is taken from name ($NAME)!" && TITLE="$NAME"
	
	/usr/local/share/myx.common/bin/lib/installUser "$NAME" "$TITLE"
	/usr/local/share/myx.common/bin/lib/installUserGroupMembership "$NAME" "wheel"
}

case "$0" in
	*/myx.common/bin/lib/installWheelUser) 
		InstallWheelUser $@
	;;
esac
